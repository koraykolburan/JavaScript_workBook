<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>New Features on JS</title>
     <style>
          body {
               line-height: 2.5rem;
               background-color: darkolivegreen;
               color: white;
               font-family: monospace;
               font-size: 18px;
               padding: 20px;
          }
     </style>
</head>
<body>
     <header>
          <h1>
               New Features on JS(ES6,ES2020..)
          </h1>
     </header>
     <section>
          <h2>ES6</h2>
          <ol>
               <li>
                    <b>let:</b> declares a block variable <br>
                    it have block scope! <br>
                    it must be declared before USE! <br>
                    it cannot be redeclared in the same SCOPE! <br>
                    it doesn't bind to 'this'!
               </li>
               <li>
                    <b>const:</b> declares a block constant <br>
                    Use with these: a new ARRAY, OBJECT, FUNCTION, Reg Exp. <br>
                    it cannot be Redeclared! <br>
                    it cannot be Reassigned! <br>
                    it have block scope! <br>
                    # NOTE # It doesn't DEFINE a constant VALUE! It deifnes a constant REFERENCE to a VALUE! <br>
                    We can change the: 1) the elements of Const Array(push, pop, remove..). 2) the properties of Const Object(color, owner..).
               </li>
               <li>
                    Block Scope: means { here... }
               </li>
               <li>
                    <b>repeat()</b> method returns a string with a number of copies of string like this: <br>
                    text.repeat(3);
               </li>
               <li>
                    <b>includes()</b> method returns TRUE if a string contains a specified value. <br>
                    (it can be taken second param. as a start position) <br>
                    let text = "Hi is this a new bike? Or is this a second-hand bike?"; <br>
                    text.includes("bike", 49); <br>
                    <b>false</b>
               </li>
               <li>
                    <b>startsWith()</b> method: if a string BEGINS with a specified value, it returns TRUE. <br>
                    (it is case-sensitive & Start position for the search can be specified with second param. like:2) <br>
                    let text = "Running, swimming and cycling? Or just both running and swimming?" <br>
                    text.startsWith("Running", 0); <br>
                    <b>TRUE</b>
               </li>
               <li>
                    <b>endsWith()</b> method: if a string ENDS with a specified value, it returns TRUE. <br>
                    (it is case-sensitive & End position for the search can be specified with second param. like:2) <br>
                    let text = "Running, swimming and cycling? Or just both running and swimming?" <br>
                    text.endsWith("?"); <br>
                    <b>TRUE</b>
               </li>
               <li>
                    <b>includes()</b> as an ARRAY method, it allows us to check if an element is present in an array. <br>
                    (including NaN) <br>
                    Check if the cars array contains "cars2": <br> 
                    const cars = [ "cars0", "cars1", "cars2", "cars3",]; <br>
                    cars.includes("cars2"); it returns: <b>TRUE</b>
               </li>
               <li>
                    <b>find()</b> method returns the value of the FIRST ARRAY Element that passes a TEST Function. <br>
                    const nums = [2, 3, 4, 6, 7, 9, 12, 13, 15, 17]; <br>
                    let first = nums.find(myFunction); <br>
                    function myFunction(value, index, array) { return value > 10; }
               </li>
               <p id="demo3"></p>
               <li>
                    <b>findIndex()</b> method returns <b>the index</b> of the first array element that passes a test function. <br>
                    It's exactly like <b>find()</b> method. But it returns index only.
               </li>
          </ol>
          <h3>Template Strings(`backticks`)</h3>
          <ol>
               <li>
                    Templates are strings enclosed in backticks like this: (`Template string`). <br>
                    Templates are not supported in IE.
               </li>
               <li>
                    Templates allow multiline strings.
               </li>
               <li>
                    Variable Substitutions like this: <br>
                    let firstStep = "Swimming"; <br>
                    let secondStep = "Running"; <br>
                    let text = `Start with ${firstStep} and after that keep with ${secondStep}!`; <br>
                    Start with Swimming and after that keep with Running!
               </li>
               <li>
                    Template Strings allow expressions in strings.
               </li>
          </ol>
          <hr>
          <h2>ES2017</h2>
          <ol>
               <li>
                    padStart() and padEnd() methods pads a string from the START and from the END.(string method)
               </li>
          </ol>
          <hr>
          <h2>ES2019</h2>
          <ol>
               <li>
                    <b>trimStart()</b> method: it works like trim() but removes whitespace only from the START of a string. <br>
                    trimEnd() method: it works like trim() but removes whitespace only from the END of a string.
               </li>
               <li>
                    <b>flat()</b> method creates a new array with sub-array elements concatenated to a specified depth. <br>
                    const cars = [ "cars0", "cars1", [ "e-cars0", "e-cars1", [ "h-cars0", "h-cars1"], "cars2", "cars3"]; <br>
                    const newArr = cars.flat();
               </li>
               <p id="demo2"></p>
               <li>
                    <b>flatMap()</b> method first maps all elements of an array and then creates a new array by flattening the array. <br>
                    const myArr = [1, 2, 3, 4, 5, 6, 7, 8, 9]; <br>
                    const newArr = myArr.flatMap((x) => x * 10); <br>
                    innerHTML = newArr; <br>
                    output is: 10,20,30,40,50,60,70,80,90
               </li>
          </ol>
          <hr>
          <h2>ES2020</h2>
          <h3>Logical Assignment Operators:</h3>
          <ol>
               <li>
                     &&= if the first value is TRUE, the second value is assigned!
               </li>
               <li>
                     ||= if the first value is FALSE, the second value is assigned!
               </li>
               <li>
                     ??= if the first value is UNDEFINED or NULL, the second value is assigned!
               </li>
          </ol>
          <h3>BigInt: big numbers</h3>
          <h3>matchAll()</h3>
          <ol>
               <li>
                    method returns an ITERATOR containing the results of matching a string against a string or a REG. EXP.
               </li>
               <li>
                    For global search we can use: /run/g
               </li>
               <li>
                    For global search and also case-sensitive we can use: /run/gi
               </li>
               <li>
                    You can look for the real JS code in this html page.
               </li>
          </ol>
          <p>
               let text = "Did you go to the <b>run</b> today? No? Let's <b>run</b> then. I love <b>run</b>ning everyday! <b>RUN</b>NING and CYCLING!!!" <br>
               const iterator = text.matchAll(/run/gi); <br>
               document.getElementById("demo").innerText = Array.from(iterator); <br>
               The result is shown below:
          </p>
          <p id="demo"></p>
          <hr>
          <h2>ES2021</h2>
          <ol>
               <li>
                    replaceAll() method allows to specify a regular expression instead of a string tobe replaced. <br>
                    like this: text = text.replaceAll(/Plastics/g,"Glasses"); text = text.replaceAll(/plastics/g,"glasses");
               </li>
          </ol>
          <hr>
          <h2>ES2022</h2>
          <ol>
               <li>
                    at() method returns the character at a specified index(position) in a STRING. <br>
                    It allows the use of negative indexes like: myString.at(-2)
               </li>
               <li>
                    at() method returns an indexed element from an Array. <br>
                    const cars = [ "cars0", "cars1", "cars2", "cars3",]; <br>
                    let car = cars.at(2); or let car = cars.at(2); are return: <br>
                    <b>cars2</b>
               </li>
          </ol>
          <h2>ES2023</h2>
          <ol>
               <li>
                    <b>toSpliced()</b> method splices an array without altering the original array. <br>
                    It creates a new array and keeps the original array unchanged. <br>
                    const nums = ["Zero", "One", "Two", "Three"]; <br>
                    const spliced = nums.toSpliced(0, 1); <br>
                    <b>One,Two,Three</b>
               </li>
               <li>
                    <b>findLast()</b> method starts from the end of an array and returns the value of the first element that matching a condition. <br>
                    const celcius = [27, 28, 30, 32, 39, 38, 36]; <br>
                    let high = celcius.findLast(x => x > 35); <br>
                    "In this week, the last temperature over 30 was " + high; <br>
                    In this week, the last temperature over 30 was 36
               </li>
               <li>
                    <b>findLastIndex()</b> method finds the index of the last element that satisfies a condition. <br>
                    It returns <b>6.</b>
               </li>
               <li>
                    <b>toSorted()</b> method as a safe way to SORT an array without altering the original array. <br>
                    const winterSpring = ["Jan", "Feb", "Mar", "Apr"]; <br>
                    const sorted = winterSpring.toSorted(); <br>

                    sorted + "< br>" + months;<br>
                    Apr,Feb,Jan,Mar <br>
                    Jan,Feb,Mar,Apr
               </li>
               <li>
                    <b>toReversed()</b> method as a safe way to REVERSE an array without altering the original array. <br>
               </li>
          </ol>
     </section>

     <script>
          /* Array Methods */

          //matchAll() method - Basic Methods
          let text = "Did you go to the run today? No? Let's run then. I love running everyday! RUNNING and CYCLING!!!"
          const iterator = text.matchAll(/run/gi);
          document.getElementById("demo").innerText = Array.from(iterator);

          //flat() method - Basic Mathods
          const cars = [ "cars0", "cars1", [ "e-cars0", "e-cars1", [ "h-cars0", "h-cars1"], "cars2", "cars3"]];
          const newArr = cars.flat();
          document.getElementById("demo2").innerText = newArr;

          //find() method - Search Methods
          const nums = [2, 3, 4, 6, 7, 9, 12, 13, 15, 17];
          let first = nums.find(myFunction); 

          document.getElementById("demo3").innerText = "First number over 10 is " + first + ".";

          function myFunction(value, index, array){
               return value > 10;
          }


     </script>
</body>
</html>